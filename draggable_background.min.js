!function(e){var t=function(e,t,n,r){if(arguments.length===3||r){if(n<e)return e;if(n>t)return t}return n};e.fn.backgroundDraggable=function(n){var n=e.extend({bounded:!0,axis:!1},n),r=/(-?\d+).*?\s(-?\d+)/;return this.each(function(){var i=e(this);if(!i.css("background-image"))return;var s=i.css("background-image").replace(/url\(|\)$/ig,""),o={width:0,height:0};if(n.bounded){var u=new Image;u.onload=function(){o.width=u.width,o.height=u.height},u.src=s}i.on("mousedown.dbg",function(e){if(e.which!==1)return;var s=e.pageX,u=e.pageY;i.on("mousemove.dbg",function(e){var a=e.pageX,f=e.pageY,l=i.css("background-position").match(r)||[],c=parseInt(l[1])||0,h=parseInt(l[2])||0,p=t(i.width()-o.width,0,c+a-s,n.bounded),d=t(i.height()-o.height,0,h+f-u,n.bounded);n.axis==="x"?i.css("background-position",p+"px "+h+"px"):n.axis==="y"?i.css("background-position",c+"px "+d+"px"):i.css("background-position",p+"px "+d+"px"),s=a,u=f})}).on("mouseup.dbg mouseleave.dbg",function(){i.off("mousemove.dbg")})})}}(jQuery);