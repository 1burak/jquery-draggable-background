/**
 * Draggable Background plugin for jQuery
 *
 * v1.0.0
 *
 * Copyright (c) 2012 Kenneth Chung
 *
 * Licensed under the MIT licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 */!function(e){var t=e(window),n=function(e,t,n,r){if(arguments.length===3||r){if(n<e)return e;if(n>t)return t}return n};e.fn.backgroundDraggable=function(r){var r=e.extend({bounded:!0,axis:!1},r);return this.each(function(){var i=e(this),s=i.css("background-image"),o=s.match(/^url\(['"]?(.*?)['"]?\)$/i);if(!s||!o)return;var u={width:0,height:0};if(r.bounded){var a=new Image;a.onload=function(){u.width=a.width,u.height=a.height},a.src=o[1]}i.on("mousedown.dbg",function(e){if(e.which!==1)return;var s=e.clientX,o=e.clientY,a=i.css("background-position").match(/(-?\d+).*?\s(-?\d+)/)||[],f=parseInt(a[1])||0,l=parseInt(a[2])||0;t.on("mousemove.dbg",function(e){var t=e.clientX,a=e.clientY;f=r.axis==="y"?f:n(i.width()-u.width,0,f+t-s,r.bounded),l=r.axis==="x"?l:n(i.height()-u.height,0,l+a-o,r.bounded),s=t,o=a,i.css("background-position",f+"px "+l+"px"),e.preventDefault()}),e.preventDefault()}),t.on("mouseup.dbg",function(){t.off("mousemove.dbg")})})}}(jQuery);